[gd_scene load_steps=49 format=3 uid="uid://80s77tbmjy03"]

[ext_resource type="Script" path="res://Scripts/Character.gd" id="1_2ec6e"]
[ext_resource type="Texture2D" uid="uid://dchoq2w1gynjd" path="res://Sprites/Attack1.png" id="1_gwd53"]
[ext_resource type="Script" path="res://Scenes/Label.gd" id="2_y08d6"]
[ext_resource type="Texture2D" uid="uid://bxovghs1gkptl" path="res://Sprites/Idle.png" id="3_a2k8a"]
[ext_resource type="Texture2D" uid="uid://sii84k2cf3sj" path="res://Sprites/Run.png" id="4_gpkds"]
[ext_resource type="Texture2D" uid="uid://b8mby13wts2mi" path="res://Sprites/Death.png" id="4_lyge6"]
[ext_resource type="Texture2D" uid="uid://ck3mxs336imvm" path="res://Sprites/Jump.png" id="4_s2pbq"]
[ext_resource type="Texture2D" uid="uid://bfqtl037rwu1w" path="res://Sprites/Fall.png" id="5_8ohbk"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_lj7ih"]
height = 48.0

[sub_resource type="AtlasTexture" id="AtlasTexture_c4or1"]
atlas = ExtResource("1_gwd53")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_6wbcp"]
atlas = ExtResource("1_gwd53")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_0tqdv"]
atlas = ExtResource("1_gwd53")
region = Rect2(400, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_igxnt"]
atlas = ExtResource("1_gwd53")
region = Rect2(600, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_kjmjv"]
atlas = ExtResource("1_gwd53")
region = Rect2(800, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8vqn"]
atlas = ExtResource("1_gwd53")
region = Rect2(1000, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_qto0p"]
atlas = ExtResource("4_lyge6")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_82n82"]
atlas = ExtResource("4_lyge6")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_ujosg"]
atlas = ExtResource("4_lyge6")
region = Rect2(600, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_641m2"]
atlas = ExtResource("4_lyge6")
region = Rect2(400, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_p8l8r"]
atlas = ExtResource("4_lyge6")
region = Rect2(800, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_fm8y5"]
atlas = ExtResource("4_lyge6")
region = Rect2(1000, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_vusun"]
atlas = ExtResource("3_a2k8a")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_kkdn4"]
atlas = ExtResource("3_a2k8a")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_yolqm"]
atlas = ExtResource("3_a2k8a")
region = Rect2(400, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_lvg1s"]
atlas = ExtResource("3_a2k8a")
region = Rect2(600, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_5ssih"]
atlas = ExtResource("3_a2k8a")
region = Rect2(800, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_3gn2i"]
atlas = ExtResource("3_a2k8a")
region = Rect2(1000, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_f8kba"]
atlas = ExtResource("3_a2k8a")
region = Rect2(1200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_ksiwj"]
atlas = ExtResource("3_a2k8a")
region = Rect2(1400, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_ludpa"]
atlas = ExtResource("4_s2pbq")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_ynl14"]
atlas = ExtResource("4_s2pbq")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_6lwn8"]
atlas = ExtResource("5_8ohbk")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_ybkha"]
atlas = ExtResource("5_8ohbk")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_eyh45"]
atlas = ExtResource("4_gpkds")
region = Rect2(0, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_v60t2"]
atlas = ExtResource("4_gpkds")
region = Rect2(200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_82fjs"]
atlas = ExtResource("4_gpkds")
region = Rect2(400, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_5al2q"]
atlas = ExtResource("4_gpkds")
region = Rect2(600, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_i8mb5"]
atlas = ExtResource("4_gpkds")
region = Rect2(1000, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_1pub1"]
atlas = ExtResource("4_gpkds")
region = Rect2(800, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_c4a8m"]
atlas = ExtResource("4_gpkds")
region = Rect2(1200, 0, 200, 200)

[sub_resource type="AtlasTexture" id="AtlasTexture_5edii"]
atlas = ExtResource("4_gpkds")
region = Rect2(1400, 0, 200, 200)

[sub_resource type="SpriteFrames" id="SpriteFrames_3n2d1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4or1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6wbcp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0tqdv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_igxnt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kjmjv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8vqn")
}],
"loop": true,
"name": &"Attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qto0p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_82n82")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ujosg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_641m2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p8l8r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fm8y5")
}],
"loop": false,
"name": &"Death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vusun")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kkdn4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yolqm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvg1s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5ssih")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3gn2i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f8kba")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ksiwj")
}],
"loop": true,
"name": &"Idle",
"speed": 0.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ludpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ynl14")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6lwn8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybkha")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybkha")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybkha")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybkha")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybkha")
}],
"loop": true,
"name": &"Jump",
"speed": 0.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_eyh45")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v60t2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_82fjs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5al2q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i8mb5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1pub1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4a8m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5edii")
}],
"loop": true,
"name": &"Run",
"speed": 0.0
}]

[sub_resource type="Animation" id="Animation_3jr3r"]
length = 1.2
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Attack"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AttackBox/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.8, 1.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}

[sub_resource type="Animation" id="Animation_hau42"]
length = 1.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Idle"]
}

[sub_resource type="Animation" id="Animation_jsm8c"]
length = 1.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Jump"]
}

[sub_resource type="Animation" id="Animation_lk86f"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AttackBox/CollisionShape2D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_2vxlp"]
length = 1.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Run"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_y7cmc"]
_data = {
"Attack": SubResource("Animation_3jr3r"),
"Idle": SubResource("Animation_hau42"),
"Jump": SubResource("Animation_jsm8c"),
"RESET": SubResource("Animation_lk86f"),
"Run": SubResource("Animation_2vxlp")
}

[node name="Sora" type="CharacterBody2D" groups=["Player"]]
script = ExtResource("1_2ec6e")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(5, -1)
shape = SubResource("CapsuleShape2D_lj7ih")

[node name="Camera2D" type="Camera2D" parent="."]
limit_left = 0
limit_top = 0
limit_bottom = 600
limit_smoothed = true

[node name="Label" type="Label" parent="Camera2D"]
offset_right = 40.0
offset_bottom = 23.0
text = "0"
script = ExtResource("2_y08d6")
metadata/_edit_use_anchors_ = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(3, 0)
sprite_frames = SubResource("SpriteFrames_3n2d1")
animation = &"Idle"
speed_scale = 0.0

[node name="AttackBox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="AttackBox"]
position = Vector2(29, -35)
polygon = PackedVector2Array(-43, -9, 23, -9, 64, 18, 47, 43, 13, 52, 8, 47, 30, 34, 21, 16, -26, 8)
disabled = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "Idle"
libraries = {
"": SubResource("AnimationLibrary_y7cmc")
}

[node name="Timer" type="Timer" parent="."]
wait_time = 1.5

[connection signal="body_entered" from="AttackBox" to="." method="_on_attack_box_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
